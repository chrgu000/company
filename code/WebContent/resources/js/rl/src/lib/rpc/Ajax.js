orderjs.define("lib.rpc.Ajax",["lib.rpc.engine"],function(){var e=rl.rpc;e.Ajax={_IHRequestPool:[],_XHRequestPool:[],request:function(e){var t=this.getRequest(e);return t.request(e)},createRequest:function(e){return new(rl.rpc[this._getReqType(e)+"equest"])(e)},getRequest:function(e){var t=this["_"+this._getReqType(e)+"equestPool"],r=Array.find(function(e){return!e.requesting},t);return r?r:(t.push(this.createRequest(e)),t[t.length-1])},_getReqType:function(e){if(e=e||{},rl.isNonNullStr(e.reqType))return e.reqType.toUpperCase();var t="XHR",r="IHR";if(e.sendData)if(e.multipart||"xml"==e.dataType)t=r;else if("form"==e.dataType)try{"multipart/form-data"==rl.getDom(e.sendData).getAttribute("enctype").toLowerCase()&&(t=r)}catch(n){}return e.reqType=t,t},toString:function(){return"[object rl.rpc.Ajax]"}}});