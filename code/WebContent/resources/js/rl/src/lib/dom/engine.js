orderjs.define("lib.dom.engine",function(){rl.createNamespace("rl.dom"),function(){var e,n,r=rl.dom,o=rl.getDom,i="CSS1Compat"==document.compatMode,l=rl.IE&&!i,a=rl.isNonNullStr,s=rl.isElement,d=(rl.isFunction,{position:"absolute",left:"-10px",top:"-10px",height:"5px",width:"5px",overflow:"hidden"}),c=/%|px|em|ex|pt|pc|in|mm|cm/;n=function(e,t,n){n.insertAdjacentHTML(e,t)},e={beforebegin:function(e,t,n,r){r.setStartBefore(n);var o=r.createContextualFragment(t);n.parentNode.insertBefore(o,n)},afterbegin:function(e,t,n,r){if(!n.firstChild)return n.innerHTML=t,n.firstChild;r.setStartBefore(n.firstChild);var o=r.createContextualFragment(t);n.insertBefore(o,n.firstChild)},beforeend:function(e,t,n,r){if(n.lastChild){r.setStartAfter(n.lastChild);var o=r.createContextualFragment(t);n.appendChild(o)}else n.innerHTML=t},afterend:function(e,t,n,r){r.setStartAfter(n);var o=r.createContextualFragment(t);n.parentNode.insertBefore(o,n.nextSibling)}};var u=!0,f=document.createElement("div"),m=document.createElement("div"),h=document.createElement("div");f.appendChild(m),f.appendChild(h);try{Array.prototype.slice.call(document.documentElement.childNodes)}catch(p){u=!1}rl.support.dom_elementsSlice=u,rl.support.dom_hasAttribute=rl.isFunction(f.hasAttribute),rl.dom.domWarehouse=f,rl.dom.domRecycleBin=m,rl.dom.domFactory=h,rl.ext(r,{STRICT_MODE:i,BOX_STYLE_BORDER:l,QUIRK_TD_OFFSETWIDTH:!1,STEADY_INLINE_HEIGHT:!0,stashStyle:d,insertHtml:function(t,r,i){if(i=o(i),!(a(t)&&a(r)&&i.nodeType))return null;var l,s,d,c,u=[],t=t.toLowerCase();switch(r=r.trim(),i.insertAdjacentHTML?l=n:(l=e[t],s=i.ownerDocument.createRange()),t){case"beforebegin":for(d=i.previousSibling,l(t,r,i,s),c=i.previousSibling;d!=c;)u.push(c),c=c.previousSibling;break;case"afterbegin":for(c=i.firstChild,l(t,r,i,s),d=i.firstChild;d!=c;)u.push(d),d=d.nextSibling;break;case"beforeend":for(d=i.lastChild,l(t,r,i,s),c=i.lastChild;d!=c;)u.push(c),c=c.previousSibling;break;case"afterend":for(c=i.nextSibling,l(t,r,i,s),d=i.nextSibling;d!=c;)u.push(d),d=d.nextSibling}switch(u.length){case 1:return u[0];case 0:throw{description:'Illegal insertion at position : "'+t+'"'};default:return u}},insertElements:function(e,t,n){if(n=o(n),!(t&&a(e)&&s(n)))return null;var r,i,l=function(e){r.insertBefore(rl.getDom(e),n)},d=function(e){r.appendChild(rl.getDom(e))};if(e=e.toLowerCase(),rl.isElement(t)||rl.isNonNullStr(t)?t=[t]:!rl.isArray(t)&&t.length&&(t=Array.slice(t)),!t.length)return null;if("beforebegin"==e||"afterend"==e){if(r=n.parentNode,!r)return null;"beforebegin"==e?i=l:(n=n.nextSibling,i=n?l:d)}else P=n,"afterbegin"==e&&r.firstChild?(n=r.firstChild,i=l):i=d;return Array.each(i,t),1==t.length?t[0]:t},createElements:function(e){var t,n;if(rl.isObject(e)&&rl.isNonNullStr(n=e.tag)){t=["<"+n];for(var r in e)"tag"!==r&&t.push(r+"="+e[r]);t.push("></"+n+">"),t=t.join(" ")}else rl.isNonNullStr(e)&&(t=e);if(t){rl.dom.domFactory.innerHTML=t;var o=rl.dom.domFactory.childNodes,i=o.length;return 1===i?o[0]:o}},destroyElements:function(e){if((rl.isElement(e)||rl.isNonNullStr(e))&&(e=[e]),e.length){var t=rl.dom.domRecycleBin;Array.each(function(e){e=rl.getDom(e),e&&t.appendChild(e)},e),t.innerHTML=""}},addUnit:function(e){return c.test(e)?e:/auto/.test(e)?"auto":isNaN(e)?0:e+"px"},cleanWhitespace:function(e){if(s(e=o(e)))for(var t=e.firstChild;t;){var n=t.nextSibling;3!=t.nodeType||/\S/.test(t.nodeValue)||e.removeChild(t),t=n}},childOf:function(e,t){if(e=o(e),t=o(t),!e)return!1;for(;e=e.parentNode;)if(e==t)return!0;return!1},findParentBy:function(e,t,n){try{for(var r=[e].concat(Array.slice(arguments,3));!t.apply(n,r);)r[0]=r[0].parentNode;return r[0]}catch(o){return null}},getText:function(e){return(e=o(e))?e.innerText||e.textContent:void 0},setText:function(e,t){(e=o(e))&&("undefined"==typeof e.textContent?e.innerText=t:e.textContent=t)},setInnerHTML:function(e,t,n){return(e=o(e))&&rl.isString(t)?(e.innerHTML=String.stripScripts(t),n!==!1&&Function.defer(function(){String.evalScripts(t),rl.isFunction(n)&&n()}),e):void 0},_domEventHandlerStore:{},_domEventListeners:[],_domEventHandlerAutoId:0,addEventListener:function(e,t,n,i,l){if(rl.isNonNullStr(e)&&(e=o(e)),e&&rl.isNonNullStr(t)&&rl.isFunction(n)){var a=r._domEventListeners,s=r._domEventHandlerStore,d=t+ ++r._domEventHandlerAutoId,c=Function.curry(r._domEventHandlerWrap,d);l=l||!1,i=i||e,"keypress"==t&&(rl.SAFARI||e.attachEvent)?t="keydown":"mousewheel"==t&&rl.GECKO&&(t="DOMMouseScroll"),s[d]={handler:n,scope:i},a.push([e,t,n,i,l,c,d]),r._attachEvent(e,t,c,l)}},removeEventListener:function(e,t,n,i){if(rl.isNonNullStr(e)&&(e=o(e)),e&&rl.isNonNullStr(t)&&rl.isFunction(n)){f=f||!1,i=i||e,"keypress"==t&&(rl.SAFARI||e.attachEvent)?t="keydown":"mousewheel"==t&&rl.GECKO&&(t="DOMMouseScroll");var l=r._domEventListeners,a=r._domEventHandlerStore,s=r._getIndexofDomEventListener(e,t,n,i),d=l[s];if(rl.isArray(d)){var c=d[5],u=d[6],f=d[4];delete a[u],l.removeAt(s),r._detachEvent(e,t,c,f)}}},_getIndexofDomEventListener:function(e,t,n,o){return Array.indexOf(function(r){return e==r[0]&&t==r[1]&&n==r[2]&&o==r[3]?!0:void 0},r._domEventListeners)},_attachEvent:function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on"+t,n)},_detachEvent:function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on"+t,n)},_domEventHandlerWrap:function(e){var t=r._domEventHandlerStore[e];if(t){var n=t.handler,o=t.scope;n.call(o)}},_unloadAllDomEventListener:function(){var e;Array.each(function(t){try{r._detachEvent(t[0],t[1],t[2],t[3])}catch(n){}t[0]=null,e=t[6],delete r._domEventHandlerStore[e],t.length=0},r._domEventListeners),r._domEventListeners=[],r._domEventHandlerStore={}},getStyle:function(){var e=document.defaultView;return e?function(t,n,r){if(!s(t=o(t))||!a(n))return null;var i,l=null;return"float"==n&&(n="cssFloat"),l=t.style[n],!l&&e.getComputedStyle&&(i=e.getComputedStyle(t,""),i&&(l=i[n.camelize()])),r&&(l=parseInt(l,10),isNaN(l)&&(l=0)),l}:function(e,t,n){if(!s(e=o(e))||!a(t))return null;var r,i=null;if("opacity"==t)try{var l=/alpha\(.*?opacity.*?=(.*)\)/i;return i=parseFloat(e.style.filter.match(l)[1])/100,isNaN(i)?i:1}catch(d){return 1}else"float"==t&&(t="styleFloat");return i=e.style[t],!i&&(r=e.currentStyle)&&(i=r[t.camelize()]),n&&(i=parseInt(i,10),isNaN(i)&&(i=0)),i}}(),setStyle:function(e,t){if(s(e=o(e)))if(rl.isNonNullStr(t))e.style.cssText+=";"+t,t.contains("opacity")&&r.setOpacity(e,t.match(/opacity:\s*(\d?\.?\d*)/)[1]);else if(t){var n=e.style;rl.isDefined(t.opacity)&&rl.IE&&r.setOpacity(e,t.opacity);var i=t.cssFloat||t["float"];rl.isDefined(i)&&(n.cssText+=";float:"+i+";");for(var l in t)n[l]=t[l]}},setOpacity:function(e,t){if(s(e=o(e))){var n=e.style;rl.IE?(n.zoom||(n.zoom=1),n.filter=(n.filter||"").replace(/alpha\([^\)]*\)/gi,"")+(1==t?"":"alpha(opacity="+100*t+")")):n.opacity=t}},hasClass:function(e,t){if(s(e=o(e))&&a(t)){var n=new RegExp("\\b"+t.trim()+"\\b");return n.test(e.className)}},addClass:function(e,t){s(e=o(e))&&a(t)&&(r.hasClass(e,t)||(e.className=e.className.trim()+" "+t))},removeClass:function(e,t){if(s(e=o(e))&&a(t)){var n=new RegExp("\\b"+t.trim()+"\\b","gi");e.className=e.className.replace(n," ")}},swapClass:function(e,t,n){r.removeClass(e,t),r.addClass(e,n)},getOffsetX:function(e,t){e=o(e),t=o(t);for(var n=e.offsetLeft;(e=e.offsetParent)&&(n+=e.offsetLeft,e!=t););return n},getOffsetY:function(e,t){e=o(e),t=o(t);for(var n=e.offsetTop;(e=e.offsetParent)&&(n+=e.offsetTop,e!=t););return n},getOffsetXY:function(e,t){return{X:r.getOffsetX(e,t),Y:r.getOffsetY(e,t)}},getWindowScrollXY:function(){var e=t=0,n=i?document.documentElement:document.body;return rl.isDefined(n.scrollLeft)?(e=n.scrollLeft,t=n.scrollTop):(e=window.scrollX||window.pageXOffset,t=window.scrollY||window.pageYOffset),{X:e,Y:t}},sumBoxBnP:function(e,t){if(!rl.isElement(e))return 0;var n=0,o=r.getStyle;return t?(n+=o(e,"padding-top",!0),n+=o(e,"padding-bottom",!0),n+=o(e,"border-top-width",!0),n+=o(e,"border-bottom-width",!0)):(n+=o(e,"padding-left",!0),n+=o(e,"padding-right",!0),n+=o(e,"border-left-width",!0),n+=o(e,"border-right-width",!0)),n},getWidth:function(e,t){e=o(e);var n=e.offsetWidth;return n>0?t||(n-=r.sumBoxBnP(e)):(n=r.getStyle(e,"width",!0),t&&(n+=r.sumBoxBnP(e))),n},getHeight:function(e,t){e=o(e);var n=e.offsetHeight;return n>0?t||(n-=r.sumBoxBnP(e,!0)):(n=r.getStyle(e,"height",!0),t&&(n+=r.sumBoxBnP(e,!0))),n},topPageFocusInEvent:rl.isTopRLWindow()?new rl.util.Event:null,getPageFocusInEvent:function(){var e=rl.getTopRLWindow();return e?e.rl.dom.topPageFocusInEvent:void 0},firePageFocusInEvent:function(e){try{var t=rl.dom.getPageFocusInEvent();t&&t.fire(e)}catch(n){rl.dir(n,"error occurs on rl.dom.firePageFocusInEvent()")}}}),rl.onReady(function(){var e=rl.dom.domWarehouse;rl.ext(e.style,d),document.body.appendChild(e);var t='<table><tr><td style="display:none;">&nbsp;</td><td>&nbsp;</td></tr></table>',n=rl.dom.createElements(t);rl.dom.QUIRK_TD_OFFSETWIDTH=!!n.rows[0].cells[0].offsetWidth;var r='<span style="border:solid 1px #ccc;"><input style=" border:none; height:50px; line-height:50px;"  /></span>',o=rl.dom.createElements(r);rl.dom.STEADY_INLINE_HEIGHT=o.scrollHeight<=50})}(),rl.dom._attachEvent(window,"unload",rl.dom._unloadAllDomEventListener),rl.dom._attachEvent(document,"mousedown",rl.dom.firePageFocusInEvent),rl.dom.HtmlTemplate=rl.createClass({parent:rl.util.Template,construct:function(e){rl.isPrototyping(arguments[0])||rl.dom.HtmlTemplate.parent.call(this,e)},members:{renderTo:function(e,t,n){var r;return n=rl.isNonNullStr(n)?n:"beforeend",r=this.assign(t),rl.dom.insertHtml(n,r,e)},toString:function(){return"[object rl.dom.HtmlTemplate]"}}}),rl.HtmlTpl=rl.dom.HtmlTemplate;var e=rl.dom,n=e.viewport=new rl.util.EventProvider,r=e.STRICT_MODE;rl.ext(n,{getDocumentHeight:function(){var e=document,t=e.body,n=e.documentElement;return Math.max(t.scrollHeight,n.scrollHeight,t.offsetHeight,n.offsetHeight,t.clientHeight,n.clientHeight)},getDocumentWidth:function(){var e=document,t=e.body,n=e.documentElement;return Math.max(t.scrollWidth,n.scrollWidth,t.offsetWidth,n.offsetWidth,t.clientWidth,n.clientWidth)},getHeight:function(){var e=self.innerHeight;return!r&&!rl.IE||rl.OPERA||(e=r?document.documentElement.clientHeight:document.body.clientHeight),e},getWidth:function(){var e=self.innerWidth;return(r||rl.IE)&&(e=r?document.documentElement.clientWidth:document.body.clientWidth),e},hndWindowResize:function(){n.fireEvent("resize")}}),n.toString=function(){return"[object rl.dom.viewport]"},rl.dom.addEventListener(window,"resize",n.hndWindowResize)});