// Spectrum Colorpicker v1.3.4
// https://github.com/bgrins/spectrum
// Author: Brian Grinstead
// License: MIT
!function(t,e,r){function a(t,e,r,a){for(var n=[],s=0;s<t.length;s++){var i=t[s];if(i){var o=tinycolor(i),l=o.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";l+=tinycolor.equals(e,i)?" sp-thumb-active":"";var c=o.toString(a||"rgb"),f=v?"background-color:"+o.toRgbString():"filter:"+o.toFilter();n.push('<span title="'+c+'" data-color="'+o.toRgbString()+'" class="'+l+'"><span class="sp-thumb-inner" style="'+f+';" /></span>')}else{var h="sp-clear-display";n.push('<span title="No Color Selected" data-color="" style="background-color:transparent;" class="'+h+'"></span>')}}return"<div class='sp-cf "+r+"'>"+n.join("")+"</div>"}function n(){for(var t=0;t<g.length;t++)g[t]&&g[t].hide()}function s(t,r){var a=e.extend({},p,t);return a.callbacks={move:h(a.move,r),change:h(a.change,r),show:h(a.show,r),hide:h(a.hide,r),beforeShow:h(a.beforeShow,r)},a}function o(o,c){function h(){if(X.showPaletteOnly&&(X.showPalette=!0),X.palette){he=X.palette.slice(0),ue=e.isArray(he[0])?he:[he],de={};for(var t=0;t<ue.length;t++)for(var r=0;r<ue[t].length;r++){var a=tinycolor(ue[t][r]).toRgbString();de[a]=!0}}_e.toggleClass("sp-flat",L),_e.toggleClass("sp-input-disabled",!X.showInput),_e.toggleClass("sp-alpha-enabled",X.showAlpha),_e.toggleClass("sp-clear-enabled",We),_e.toggleClass("sp-buttons-disabled",!X.showButtons),_e.toggleClass("sp-palette-disabled",!X.showPalette),_e.toggleClass("sp-palette-only",X.showPaletteOnly),_e.toggleClass("sp-initial-disabled",!X.showInitial),_e.addClass(X.className).addClass(X.containerClassName),z()}function p(){function t(t){return t.data&&t.data.ignore?(O(e(this).data("color")),E()):(O(e(this).data("color")),E(),I(!0),M()),!1}if(b&&_e.find("*:not(input)").attr("unselectable","on"),h(),De&&ye.after(je).hide(),We||Oe.hide(),L)ye.after(_e).hide();else{var r="parent"===X.appendTo?ye.parent():e(X.appendTo);1!==r.length&&(r=e("body")),r.append(_e)}_(),Ie.bind("click.spectrum touchstart.spectrum",function(t){we||F(),t.stopPropagation(),e(t.target).is("input")||t.preventDefault()}),(ye.is(":disabled")||X.disabled===!0)&&B(),_e.click(f),Fe.change(H),Fe.bind("paste",function(){setTimeout(H,1)}),Fe.keydown(function(t){13==t.keyCode&&H()}),Te.text(X.cancelText),Te.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),M("cancel")}),Oe.attr("title",X.clearText),Oe.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Le=!0,E(),L&&I(!0)}),Ne.text(X.chooseText),Ne.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),q()&&(I(!0),M())}),u(Pe,function(t,e,r){fe=t/ne,Le=!1,r.shiftKey&&(fe=Math.round(10*fe)/10),E()},A,P),u(Se,function(t,e){oe=parseFloat(e/re),Le=!1,X.showAlpha||(fe=1),E()},A,P),u(xe,function(t,e,r){if(r.shiftKey){if(!ve){var a=le*Z,n=te-ce*te,s=Math.abs(t-a)>Math.abs(e-n);ve=s?"x":"y"}}else ve=null;var i=!ve||"x"===ve,o=!ve||"y"===ve;i&&(le=parseFloat(t/Z)),o&&(ce=parseFloat((te-e)/te)),Le=!1,X.showAlpha||(fe=1),E()},A,P),Ke?(O(Ke),D(),Be=$e||tinycolor(Ke).format,x(Ke)):D(),L&&R();var a=b?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Re.delegate(".sp-thumb-el",a,t),Me.delegate(".sp-thumb-el:nth-child(1)",a,{ignore:!0},t)}function _(){if(Y&&t.localStorage){try{var r=t.localStorage[Y].split(",#");r.length>1&&(delete t.localStorage[Y],e.each(r,function(t,e){x(e)}))}catch(a){}try{pe=t.localStorage[Y].split(";")}catch(a){}}}function x(r){if(W){var a=tinycolor(r).toRgbString();if(!de[a]&&-1===e.inArray(a,pe))for(pe.push(a);pe.length>ge;)pe.shift();if(Y&&t.localStorage)try{t.localStorage[Y]=pe.join(";")}catch(n){}}}function k(){var t=[];if(X.showPalette)for(i=0;i<pe.length;i++){var e=tinycolor(pe[i]).toRgbString();de[e]||t.push(pe[i])}return t.reverse().slice(0,X.maxSelectionSize)}function S(){var t=N(),r=e.map(ue,function(e,r){return a(e,t,"sp-palette-row sp-palette-row-"+r,X.preferredFormat)});_(),pe&&r.push(a(k(),t,"sp-palette-row sp-palette-row-selection",X.preferredFormat)),Re.html(r.join(""))}function C(){if(X.showInitial){var t=Ve,e=N();Me.html(a([t,e],e,"sp-palette-row-initial",X.preferredFormat))}}function A(){(0>=te||0>=Z||0>=re)&&z(),_e.addClass(be),ve=null,ye.trigger("dragstart.spectrum",[N()])}function P(){_e.removeClass(be),ye.trigger("dragstop.spectrum",[N()])}function H(){var t=Fe.val();if(null!==t&&""!==t||!We){var e=tinycolor(t);e.isValid()?(O(e),I(!0)):Fe.addClass("sp-validation-error")}else O(null),I(!0)}function F(){U?M():R()}function R(){var r=e.Event("beforeShow.spectrum");return U?void z():(ye.trigger(r,[N()]),void(Q.beforeShow(N())===!1||r.isDefaultPrevented()||(n(),U=!0,e(me).bind("click.spectrum",M),e(t).bind("resize.spectrum",J),je.addClass("sp-active"),_e.removeClass("sp-hidden"),z(),D(),Ve=N(),C(),Q.show(Ve),ye.trigger("show.spectrum",[Ve]))))}function M(r){if((!r||"click"!=r.type||2!=r.button)&&U&&!L){U=!1,e(me).unbind("click.spectrum",M),e(t).unbind("resize.spectrum",J),je.removeClass("sp-active"),_e.addClass("sp-hidden");var a=!tinycolor.equals(N(),Ve);a&&(Xe&&"cancel"!==r?I(!0):T()),Q.hide(N()),ye.trigger("hide.spectrum",[N()])}}function T(){O(Ve,!0)}function O(t,e){if(tinycolor.equals(t,N()))return void D();var r,a;!t&&We?Le=!0:(Le=!1,r=tinycolor(t),a=r.toHsv(),oe=a.h%360/360,le=a.s,ce=a.v,fe=a.a),D(),r&&r.isValid()&&!e&&(Be=$e||r.getFormat())}function N(t){return t=t||{},We&&Le?null:tinycolor.fromRatio({h:oe,s:le,v:ce,a:Math.round(100*fe)/100},{format:t.format||Be})}function q(){return!Fe.hasClass("sp-validation-error")}function E(){D(),Q.move(N()),ye.trigger("move.spectrum",[N()])}function D(){Fe.removeClass("sp-validation-error"),j();var t=tinycolor.fromRatio({h:oe,s:1,v:1});xe.css("background-color",t.toHexString());var e=Be;1>fe&&(0!==fe||"name"!==e)&&("hex"===e||"hex3"===e||"hex6"===e||"name"===e)&&(e="rgb");var r=N({format:e}),a="";if(ze.removeClass("sp-clear-display"),ze.css("background-color","transparent"),!r&&We)ze.addClass("sp-clear-display");else{var n=r.toHexString(),s=r.toRgbString();if(v||1===r.alpha?ze.css("background-color",s):(ze.css("background-color","transparent"),ze.css("filter",r.toFilter())),X.showAlpha){var i=r.toRgb();i.a=0;var o=tinycolor(i).toRgbString(),l="linear-gradient(left, "+o+", "+n+")";b?Ae.css("filter",tinycolor(o).toFilter({gradientType:1},n)):(Ae.css("background","-webkit-"+l),Ae.css("background","-moz-"+l),Ae.css("background","-ms-"+l),Ae.css("background","linear-gradient(to right, "+o+", "+n+")"))}a=r.toString(e)}X.showInput&&Fe.val(a),X.showPalette&&S(),C()}function j(){var t=le,e=ce;if(We&&Le)He.hide(),Ce.hide(),ke.hide();else{He.show(),Ce.show(),ke.show();var r=t*Z,a=te-e*te;r=Math.max(-ee,Math.min(Z-ee,r-ee)),a=Math.max(-ee,Math.min(te-ee,a-ee)),ke.css({top:a+"px",left:r+"px"});var n=fe*ne;He.css({left:n-se/2+"px"});var s=oe*re;Ce.css({top:s-ie+"px"})}}function I(t){var e=N(),r="",a=!tinycolor.equals(e,Ve);e&&(r=e.toString(Be),x(e)),qe&&ye.val(r),Ve=e,t&&a&&(Q.change(e),ye.trigger("change",[e]))}function z(){Z=xe.width(),te=xe.height(),ee=ke.height(),ae=Se.width(),re=Se.height(),ie=Ce.height(),ne=Pe.width(),se=He.width(),L||(_e.css("position","absolute"),_e.offset(l(_e,Ie))),j(),X.showPalette&&S(),ye.trigger("reflow.spectrum")}function K(){ye.show(),Ie.unbind("click.spectrum touchstart.spectrum"),_e.remove(),je.remove(),g[Ye.id]=null}function V(t,a){return t===r?e.extend({},X):a===r?X[t]:(X[t]=a,void h())}function $(){we=!1,ye.attr("disabled",!1),Ie.removeClass("sp-disabled")}function B(){M(),we=!0,ye.attr("disabled",!0),Ie.addClass("sp-disabled")}var X=s(c,o),L=X.flat,W=X.showSelectionPalette,Y=X.localStorageKey,G=X.theme,Q=X.callbacks,J=d(z,10),U=!1,Z=0,te=0,ee=0,re=0,ae=0,ne=0,se=0,ie=0,oe=0,le=0,ce=0,fe=1,he=[],ue=[],de={},pe=X.selectionPalette.slice(0),ge=X.maxSelectionSize,be="sp-dragging",ve=null,me=o.ownerDocument,ye=(me.body,e(o)),we=!1,_e=e(w,me).addClass(G),xe=_e.find(".sp-color"),ke=_e.find(".sp-dragger"),Se=_e.find(".sp-hue"),Ce=_e.find(".sp-slider"),Ae=_e.find(".sp-alpha-inner"),Pe=_e.find(".sp-alpha"),He=_e.find(".sp-alpha-handle"),Fe=_e.find(".sp-input"),Re=_e.find(".sp-palette"),Me=_e.find(".sp-initial"),Te=_e.find(".sp-cancel"),Oe=_e.find(".sp-clear"),Ne=_e.find(".sp-choose"),qe=ye.is("input"),Ee=qe&&m&&"color"===ye.attr("type"),De=qe&&!L,je=De?e(y).addClass(G).addClass(X.className).addClass(X.replacerClassName):e([]),Ie=De?je:ye,ze=je.find(".sp-preview-inner"),Ke=X.color||qe&&ye.val(),Ve=!1,$e=X.preferredFormat,Be=$e,Xe=!X.showButtons||X.clickoutFiresChange,Le=!Ke,We=X.allowEmpty&&!Ee;p();var Ye={show:R,hide:M,toggle:F,reflow:z,option:V,enable:$,disable:B,set:function(t){O(t),I()},get:N,destroy:K,container:_e};return Ye.id=g.push(Ye)-1,Ye}function l(t,r){var a=0,n=t.outerWidth(),s=t.outerHeight(),i=r.outerHeight(),o=t[0].ownerDocument,l=o.documentElement,c=l.clientWidth+e(o).scrollLeft(),f=l.clientHeight+e(o).scrollTop(),h=r.offset();return h.top+=i,h.left-=Math.min(h.left,h.left+n>c&&c>n?Math.abs(h.left+n-c):0),h.top-=Math.min(h.top,h.top+s>f&&f>s?Math.abs(s+i-a):a),h}function c(){}function f(t){t.stopPropagation()}function h(t,e){var r=Array.prototype.slice,a=r.call(arguments,2);return function(){return t.apply(e,a.concat(r.call(arguments)))}}function u(r,a,n,s){function i(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function o(t){if(h){if(b&&document.documentMode<9&&!t.button)return c();var e=t.originalEvent.touches,n=e?e[0].pageX:t.pageX,s=e?e[0].pageY:t.pageY,o=Math.max(0,Math.min(n-u.left,p)),l=Math.max(0,Math.min(s-u.top,d));g&&i(t),a.apply(r,[o,l,t])}}function l(t){{var a=t.which?3==t.which:2==t.button;t.originalEvent.touches}a||h||n.apply(r,arguments)!==!1&&(h=!0,d=e(r).height(),p=e(r).width(),u=e(r).offset(),e(f).bind(v),e(f.body).addClass("sp-dragging"),g||o(t),i(t))}function c(){h&&(e(f).unbind(v),e(f.body).removeClass("sp-dragging"),s.apply(r,arguments)),h=!1}a=a||function(){},n=n||function(){},s=s||function(){};var f=r.ownerDocument||document,h=!1,u={},d=0,p=0,g="ontouchstart"in t,v={};v.selectstart=i,v.dragstart=i,v["touchmove mousemove"]=o,v["touchend mouseup"]=c,e(r).bind("touchstart mousedown",l)}function d(t,e,r){var a;return function(){var n=this,s=arguments,i=function(){a=null,t.apply(n,s)};r&&clearTimeout(a),(r||!a)&&(a=setTimeout(i,e))}}var p={beforeShow:c,move:c,change:c,show:c,hide:c,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!1,showInitial:!1,showPalette:!1,showPaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",clearText:"Clear Color Selection",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1},g=[],b=!!/msie/i.exec(t.navigator.userAgent),v=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div"),r=e.style;return r.cssText="background-color:rgba(0,0,0,.5)",t(r.backgroundColor,"rgba")||t(r.backgroundColor,"hsla")}(),m=function(){var t=e("<input type='color' value='!' />")[0];return"color"===t.type&&"!"!==t.value}(),y=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),w=function(){var t="";if(b)for(var e=1;6>=e;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),_="spectrum.id";e.fn.spectrum=function(t){if("string"==typeof t){var r=this,a=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=g[e(this).data(_)];if(n){var s=n[t];if(!s)throw new Error("Spectrum: no such method: '"+t+"'");"get"==t?r=n.get():"container"==t?r=n.container:"option"==t?r=n.option.apply(n,a):"destroy"==t?(n.destroy(),e(this).removeData(_)):s.apply(n,a)}}),r}return this.spectrum("destroy").each(function(){var r=e.extend({},t,e(this).data()),a=o(this,r);e(this).data(_,a.id)})},e.fn.spectrum.load=!0,e.fn.spectrum.loadOpts={},e.fn.spectrum.draggable=u,e.fn.spectrum.defaults=p,e.spectrum={},e.spectrum.localization={},e.spectrum.palettes={},e.fn.spectrum.processNativeColorInputs=function(){m||e("input[type=color]").spectrum({preferredFormat:"hex6"})},// 2013-08-10, Brian Grinstead, MIT License
function(){function e(t){var e={r:0,g:0,b:0},a=1,s=!1,o=!1;return"string"==typeof t&&(t=w(t)),"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(e=r(t.r,t.g,t.b),s=!0,o="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=v(t.s),t.v=v(t.v),e=i(t.h,t.s,t.v),s=!0,o="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=v(t.s),t.l=v(t.l),e=n(t.h,t.s,t.l),s=!0,o="hsl"),t.hasOwnProperty("a")&&(a=t.a)),a=f(a),{ok:s,format:t.format||o,r:A(255,P(e.r,0)),g:A(255,P(e.g,0)),b:A(255,P(e.b,0)),a:a}}function r(t,e,r){return{r:255*h(t,255),g:255*h(e,255),b:255*h(r,255)}}function a(t,e,r){t=h(t,255),e=h(e,255),r=h(r,255);var a,n,s=P(t,e,r),i=A(t,e,r),o=(s+i)/2;if(s==i)a=n=0;else{var l=s-i;switch(n=o>.5?l/(2-s-i):l/(s+i),s){case t:a=(e-r)/l+(r>e?6:0);break;case e:a=(r-t)/l+2;break;case r:a=(t-e)/l+4}a/=6}return{h:a,s:n,l:o}}function n(t,e,r){function a(t,e,r){return 0>r&&(r+=1),r>1&&(r-=1),1/6>r?t+6*(e-t)*r:.5>r?e:2/3>r?t+(e-t)*(2/3-r)*6:t}var n,s,i;if(t=h(t,360),e=h(e,100),r=h(r,100),0===e)n=s=i=r;else{var o=.5>r?r*(1+e):r+e-r*e,l=2*r-o;n=a(l,o,t+1/3),s=a(l,o,t),i=a(l,o,t-1/3)}return{r:255*n,g:255*s,b:255*i}}function s(t,e,r){t=h(t,255),e=h(e,255),r=h(r,255);var a,n,s=P(t,e,r),i=A(t,e,r),o=s,l=s-i;if(n=0===s?0:l/s,s==i)a=0;else{switch(s){case t:a=(e-r)/l+(r>e?6:0);break;case e:a=(r-t)/l+2;break;case r:a=(t-e)/l+4}a/=6}return{h:a,s:n,v:o}}function i(t,e,r){t=6*h(t,360),e=h(e,100),r=h(r,100);var a=S.floor(t),n=t-a,s=r*(1-e),i=r*(1-n*e),o=r*(1-(1-n)*e),l=a%6,c=[r,i,s,s,o,r][l],f=[o,r,r,i,s,s][l],u=[s,s,o,r,r,i][l];return{r:255*c,g:255*f,b:255*u}}function o(t,e,r,a){var n=[b(C(t).toString(16)),b(C(e).toString(16)),b(C(r).toString(16))];return a&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function l(t,e,r,a){var n=[b(m(a)),b(C(t).toString(16)),b(C(e).toString(16)),b(C(r).toString(16))];return n.join("")}function c(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}function f(t){return t=parseFloat(t),(isNaN(t)||0>t||t>1)&&(t=1),t}function h(t,e){p(t)&&(t="100%");var r=g(t);return t=A(e,P(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),S.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function u(t){return A(1,P(0,t))}function d(t){return parseInt(t,16)}function p(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function g(t){return"string"==typeof t&&-1!=t.indexOf("%")}function b(t){return 1==t.length?"0"+t:""+t}function v(t){return 1>=t&&(t=100*t+"%"),t}function m(t){return Math.round(255*parseFloat(t)).toString(16)}function y(t){return d(t)/255}function w(t){t=t.replace(_,"").replace(x,"").toLowerCase();var e=!1;if(R[t])t=R[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=T.rgb.exec(t))?{r:r[1],g:r[2],b:r[3]}:(r=T.rgba.exec(t))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=T.hsl.exec(t))?{h:r[1],s:r[2],l:r[3]}:(r=T.hsla.exec(t))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=T.hsv.exec(t))?{h:r[1],s:r[2],v:r[3]}:(r=T.hex8.exec(t))?{a:y(r[1]),r:d(r[2]),g:d(r[3]),b:d(r[4]),format:e?"name":"hex8"}:(r=T.hex6.exec(t))?{r:d(r[1]),g:d(r[2]),b:d(r[3]),format:e?"name":"hex"}:(r=T.hex3.exec(t))?{r:d(r[1]+""+r[1]),g:d(r[2]+""+r[2]),b:d(r[3]+""+r[3]),format:e?"name":"hex"}:!1}var _=/^[\s,#]+/,x=/\s+$/,k=0,S=Math,C=S.round,A=S.min,P=S.max,H=S.random,F=function O(t,r){if(t=t?t:"",r=r||{},t instanceof O)return t;if(!(this instanceof O))return new O(t,r);var a=e(t);this._r=a.r,this._g=a.g,this._b=a.b,this._a=a.a,this._roundA=C(100*this._a)/100,this._format=r.format||a.format,this._gradientType=r.gradientType,this._r<1&&(this._r=C(this._r)),this._g<1&&(this._g=C(this._g)),this._b<1&&(this._b=C(this._b)),this._ok=a.ok,this._tc_id=k++};F.prototype={isValid:function(){return this._ok},getFormat:function(){return this._format},getAlpha:function(){return this._a},setAlpha:function(t){this._a=f(t),this._roundA=C(100*this._a)/100},toHsv:function(){var t=s(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=s(this._r,this._g,this._b),e=C(360*t.h),r=C(100*t.s),a=C(100*t.v);return 1==this._a?"hsv("+e+", "+r+"%, "+a+"%)":"hsva("+e+", "+r+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var t=a(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=a(this._r,this._g,this._b),e=C(360*t.h),r=C(100*t.s),n=C(100*t.l);return 1==this._a?"hsl("+e+", "+r+"%, "+n+"%)":"hsla("+e+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(t){return o(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return l(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:C(this._r),g:C(this._g),b:C(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+C(this._r)+", "+C(this._g)+", "+C(this._b)+")":"rgba("+C(this._r)+", "+C(this._g)+", "+C(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:C(100*h(this._r,255))+"%",g:C(100*h(this._g,255))+"%",b:C(100*h(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+C(100*h(this._r,255))+"%, "+C(100*h(this._g,255))+"%, "+C(100*h(this._b,255))+"%)":"rgba("+C(100*h(this._r,255))+"%, "+C(100*h(this._g,255))+"%, "+C(100*h(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":this._a<1?!1:M[o(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var e="#"+l(this._r,this._g,this._b,this._a),r=e,a=this._gradientType?"GradientType = 1, ":"";if(t){var n=F(t);r=n.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+e+",endColorstr="+r+")"},toString:function(t){var e=!!t;t=t||this._format;var r=!1,a=this._a<1&&this._a>=0,n=!e&&a&&("hex"===t||"hex6"===t||"hex3"===t||"name"===t);return n?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(r=this.toRgbString()),"prgb"===t&&(r=this.toPercentageRgbString()),("hex"===t||"hex6"===t)&&(r=this.toHexString()),"hex3"===t&&(r=this.toHexString(!0)),"hex8"===t&&(r=this.toHex8String()),"name"===t&&(r=this.toName()),"hsl"===t&&(r=this.toHslString()),"hsv"===t&&(r=this.toHsvString()),r||this.toHexString())}},F.fromRatio=function(t,e){if("object"==typeof t){var r={};for(var a in t)t.hasOwnProperty(a)&&(r[a]="a"===a?t[a]:v(t[a]));t=r}return F(t,e)},F.equals=function(t,e){return t&&e?F(t).toRgbString()==F(e).toRgbString():!1},F.random=function(){return F.fromRatio({r:H(),g:H(),b:H()})},F.desaturate=function(t,e){e=0===e?0:e||10;var r=F(t).toHsl();return r.s-=e/100,r.s=u(r.s),F(r)},F.saturate=function(t,e){e=0===e?0:e||10;var r=F(t).toHsl();return r.s+=e/100,r.s=u(r.s),F(r)},F.greyscale=function(t){return F.desaturate(t,100)},F.lighten=function(t,e){e=0===e?0:e||10;var r=F(t).toHsl();return r.l+=e/100,r.l=u(r.l),F(r)},F.brighten=function(t,e){e=0===e?0:e||10;var r=F(t).toRgb();return r.r=P(0,A(255,r.r-C(255*-(e/100)))),r.g=P(0,A(255,r.g-C(255*-(e/100)))),r.b=P(0,A(255,r.b-C(255*-(e/100)))),F(r)},F.darken=function(t,e){e=0===e?0:e||10;var r=F(t).toHsl();return r.l-=e/100,r.l=u(r.l),F(r)},F.complement=function(t){var e=F(t).toHsl();return e.h=(e.h+180)%360,F(e)},F.triad=function(t){var e=F(t).toHsl(),r=e.h;return[F(t),F({h:(r+120)%360,s:e.s,l:e.l}),F({h:(r+240)%360,s:e.s,l:e.l})]},F.tetrad=function(t){var e=F(t).toHsl(),r=e.h;return[F(t),F({h:(r+90)%360,s:e.s,l:e.l}),F({h:(r+180)%360,s:e.s,l:e.l}),F({h:(r+270)%360,s:e.s,l:e.l})]},F.splitcomplement=function(t){var e=F(t).toHsl(),r=e.h;return[F(t),F({h:(r+72)%360,s:e.s,l:e.l}),F({h:(r+216)%360,s:e.s,l:e.l})]},F.analogous=function(t,e,r){e=e||6,r=r||30;var a=F(t).toHsl(),n=360/r,s=[F(t)];for(a.h=(a.h-(n*e>>1)+720)%360;--e;)a.h=(a.h+n)%360,s.push(F(a));return s},F.monochromatic=function(t,e){e=e||6;for(var r=F(t).toHsv(),a=r.h,n=r.s,s=r.v,i=[],o=1/e;e--;)i.push(F({h:a,s:n,v:s})),s=(s+o)%1;return i},F.readability=function(t,e){var r=F(t).toRgb(),a=F(e).toRgb(),n=(299*r.r+587*r.g+114*r.b)/1e3,s=(299*a.r+587*a.g+114*a.b)/1e3,i=Math.max(r.r,a.r)-Math.min(r.r,a.r)+Math.max(r.g,a.g)-Math.min(r.g,a.g)+Math.max(r.b,a.b)-Math.min(r.b,a.b);return{brightness:Math.abs(n-s),color:i}},F.readable=function(t,e){var r=F.readability(t,e);return r.brightness>125&&r.color>500},F.mostReadable=function(t,e){for(var r=null,a=0,n=!1,s=0;s<e.length;s++){var i=F.readability(t,e[s]),o=i.brightness>125&&i.color>500,l=3*(i.brightness/125)+i.color/500;(o&&!n||o&&n&&l>a||!o&&!n&&l>a)&&(n=o,a=l,r=F(e[s]))}return r};var R=F.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},M=F.hexNames=c(R),T=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+t+")",a="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{rgb:new RegExp("rgb"+a),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+a),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+a),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();t.tinycolor=F}(),e(function(){e.fn.spectrum.load&&e.fn.spectrum.processNativeColorInputs()})}(window,jQuery);