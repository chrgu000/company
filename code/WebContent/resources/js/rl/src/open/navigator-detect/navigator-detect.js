/**
 * Copyright 2013 Carl Craig
 * navigator-detect.js is dual licensed with the Apache-2.0 or MIT license.
 */
function NavigatorDetect(e,t){this.ua=e,this.documentObject=t,this.classes="",this.detected={device:!1,type:!1,browser:!1,os:!1},this.mobileDevices={iPod:"\\biPod",iPhone:"\\biPhone.*Mobile",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+",WindowsPhone:"(?=.*Windows.*)(?=.*Phone.*)",AndroidMobile:"(?=.*Android.*)(?=.*Mobile.*)"},this.tabletDevices={iPad:"iPad|iPad.*Mobile",BlackBerryTablet:"PlayBook|RIM Tablet",WindowsTablet:"Windows NT [0-9.]+; ARM;",AndroidTablet:"\\bAndroid\\b"},this.genericMobile="(?=.*Mobile.*)",this.mobileBrowsers={Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]*(Mobile)?",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile",Safari:"Version.*Mobile.*Safari|Safari.*Mobile",UCBrowser:"UC.*Browser|UCWEB"},this.desktopBrowsers={Opera:"OPR|Opera",Firefox:"Firefox",Chrome:"Chrome",Safari:"Safari",IE:"MSIE"},this.mobileOperatingSystems={AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|RIM Tablet OS|BlackBerry;",WindowsPhoneOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Window Mobile|Windows Phone [0-9.]+|WCE;|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b"},this.operatingSystems={WindowsOS:"Win",MacOS:"Mac",LinuxOS:"Linux"}}NavigatorDetect.prototype.init=function(e,t){e&&(this.ua=e),t&&(this.documentObject=t),this.type(),this.browser(),this.os(),this.updateClasses()},NavigatorDetect.prototype.testRule=function(e,t){"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]);for(var i=0;i<e.length;i++)if(new RegExp(e[i]).test(t))return!0;return!1},NavigatorDetect.prototype.type=function(){return this.detected.type||this.device(),this.detected.type},NavigatorDetect.prototype.device=function(){if(this.detected.device)return this.detected.device;var e;for(e in this.mobileDevices)if(this.mobileDevices.hasOwnProperty(e)&&this.testRule(this.mobileDevices[e],this.ua))return this.detected.type="mobile",this.detected.device=e;for(e in this.tabletDevices)if(this.tabletDevices.hasOwnProperty(e)&&this.testRule(this.tabletDevices[e],this.ua))return this.detected.type="tablet",this.detected.device=e;return this.detected.type=this.testRule(this.genericMobile,this.ua)?"mobile":"desktop",this.detected.device="unknown"},NavigatorDetect.prototype.browser=function(){if(this.detected.browser)return this.detected.browser;var e;for(e in this.mobileBrowsers)if(this.mobileBrowsers.hasOwnProperty(e)&&this.testRule(this.mobileBrowsers[e],this.ua))return"desktop"===this.detected.type&&(this.detected.type="mobile"),this.detected.browser=e;if(window.opera)return this.detected.browser="Opera";for(e in this.desktopBrowsers)if(this.desktopBrowsers.hasOwnProperty(e)&&this.testRule(this.desktopBrowsers[e],this.ua))return this.detected.browser=e;return this.detected.browser="unknown"},NavigatorDetect.prototype.os=function(){if(this.detected.os)return this.detected.os;var e;for(e in this.mobileOperatingSystems)if(this.mobileOperatingSystems.hasOwnProperty(e)&&this.testRule(this.mobileOperatingSystems[e],this.ua))return"desktop"===this.detected.type&&(this.detected.type="mobile"),this.detected.os=e;for(e in this.operatingSystems)if(this.operatingSystems.hasOwnProperty(e)&&this.testRule(this.operatingSystems[e],this.ua))return this.detected.os=e;return this.detected.os="unknown"},NavigatorDetect.prototype.isMobile=function(){return this.detected.type||this.device(),"mobile"===this.detected.type},NavigatorDetect.prototype.isTablet=function(){return this.detected.type||this.device(),"tablet"===this.detected.type},NavigatorDetect.prototype.isDesktop=function(){return this.detected.type||this.device(),"desktop"===this.detected.type},NavigatorDetect.prototype.isDevice=function(e){return this.detected.device||this.device(),this.detected.device.toLowerCase()===e.toLowerCase()},NavigatorDetect.prototype.isBrowser=function(e){return this.detected.browser||this.browser(),this.detected.browser.toLowerCase()===e.toLowerCase()},NavigatorDetect.prototype.isOS=function(e){return this.detected.os||this.os(),this.detected.os.toLowerCase()===e.toLowerCase()},NavigatorDetect.prototype.hasClass=function(e){return this.documentObject?new RegExp("\\b"+e+"\\b").test(this.documentObject):!1},NavigatorDetect.prototype.addClass=function(e){e=e.toLowerCase(),this.documentObject&&!this.hasClass(e)&&(this.documentObject.className=(this.documentObject.className+" "+e).replace(/^\s\s*/,"").replace(/\s\s*$/,""),this.classes=(this.classes+" "+e).replace(/^\s\s*/,"").replace(/\s\s*$/,""))},NavigatorDetect.prototype.updateClasses=function(){this.detected.type&&!this.hasClass(this.detected.type)&&this.addClass(this.detected.type),this.detected.device&&"unknown"!==this.detected.device&&this.addClass(this.detected.device),this.detected.browser&&"unknown"!==this.detected.browser&&this.addClass(this.detected.browser),this.detected.os&&"unknown"!==this.detected.os&&this.addClass(this.detected.os)};