orderjs.define("gui.form.Select",["gui.engine","css>rl:inputs","gui.form.SelectionModel","gui.form.SelectItem"],function(){rl.gui.form.Select=rl.createClass({parent:rl.gui.ContainerBase,construct:function(e){rl.isPrototyping(arguments[0])||(rl.gui.form.Select.parent.call(this,e),this.initialize())},members:{items:null,name:void 0,value:void 0,valueSep:",",disabled:!1,multiple:!1,sm:null,alignRight:!1,width:"auto",height:"auto",_htmlTpl:new rl.HtmlTpl('<div id="{id}" class="rl_select" style="width:{width}; height:{height};"><input id="{valueId}" name="{name}" value="{value}" type="hidden" /><div id="{itemsWarpperId}" class="items_wrapper">{itemsHtml}</div></div>'),initialize:function(){this.dw=new rl.dom.DomWrap,rl.isNonNullStr(this.id)||(this.id=this.autoId()),this.valueId=this.id+"_value",this.itemsWarpperId=this.id+"_itemsWarpper"},render:function(e){if(this._rendered)return this;e=this.getRenderTarget(e);var t=this._htmlTpl.renderTo(e,{css:this.css+(this.alignRight?" rl_alignright":""),ctrlCss:this.ctrlCss,id:this.id,tip:this.tip,ctrlId:this.ctrlId,width:rl.dom.addUnit(this.width),height:rl.dom.addUnit(this.height),name:this.name,value:this.value,disabledState:disabledState,readonlyState:readonlyState},this.renderPosition);return this.dw.setTarget(t),this._rendered=!0,this.fireEvent("render"),this},getValue:function(){return this.value},getPreferredSize:function(){},hndItemSeletedStateChange:function(e){this.sm.hndItemSeletedStateChange(e),this._updateValue()},hndItemDisabledStateChange:function(){this._updateValue()},_updateValue:function(){var e=this.sm;this.value=this.multiple?Array.map(function(e){return e.value},e.getSelected()).join(this.valueSep):this.value=this.items[e.selectedIndex],rl.getDom(this.valueId).value=this.value},toString:function(){return"[object rl.gui.form.Select]"}}}),rl.gui.ctype2Classes.add("Select",rl.gui.form.Select)});