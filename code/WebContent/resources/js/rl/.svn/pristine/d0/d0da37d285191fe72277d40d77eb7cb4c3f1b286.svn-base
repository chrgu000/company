orderjs.define("app.media.common.NiftyPlayer",["app.media.base.PlayerBase"],function(){rl.media.NiftyPlayer=rl.createClass({parent:rl.media.PlayerBase,construct:function(t){rl.isPrototyping(arguments[0])||rl.media.NiftyPlayer.parent.call(this,t)},members:{uiMode:"invisible",currentPlayList:null,_currentMedia:null,_current:0,_ppHtmlTpl:new rl.HtmlTpl(window.ActiveXObject?'NaN<param name=movie value="niftyplayer.swf?as=0"><param name=quality value=high><param name=bgcolor value=#FFFFFF></object>':"NaN</embed>"),onInitialize:function(){this.currentPlayList=[]},add:function(t){this.currentPlayList.push(t)},remove:function(t){this.currentPlayList.remove(t)},play:function(t){var r,e=this._currentMedia,i=this.currentPlayList;return isNaN(t)&&e||(r=this._current,e=i.length>0?i[r]:"",this._currentMedia=e),this.playerProxy=this._createPlayerProxy(e),this.fireEvent("play",e),this},stop:function(){return this.dw.dom.innerHTML="",this.fireEvent("stop"),this},pause:function(){return this},previous:function(){return this._current--,this._current<0?this._current=0:this._currentMedia=this.currentPlayList[this._current],this.run(),this},next:function(){var t=this.currentPlayList,r=t.length;return this._current++,this._current>=r?this._current=r-1:this._currentMedia=t[this._current],this.run(),this},getSwfObject:function(){var t=this.id;return rl.IE?window[t]:document[t]},_createPlayerProxy:function(t){var r=this.dw.dom;return r.innerHTML=this._getPlayerProxyHtml(t),r.firstChild},_getPlayerProxyHtml:function(t){var r="";return r=rl.isNonNullStr(t)?this._ppHtmlTpl.assign({src:t}):"<span></span>"},toString:function(){return"[object rl.media.NiftyPlayer]"}}})});