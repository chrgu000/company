orderjs.define("gui.list.ListItem",["gui.engine","css>rl:list"],function(){rl.gui.list.ListItem=rl.createClass({parent:rl.gui.ControlBase,construct:function(t){rl.isPrototyping(arguments[0])||(rl.gui.list.ListItem.parent.call(this,t),this.initialize())},members:{icon:"",hasSelector:!1,autoTip:!0,_htmlTpl:new rl.HtmlTpl('<li id="{id}" title="{tip}">{selectorHtml}{iconHtml}<span id="{textCtnId}" class="rl_li_text">{text}</span></li>'),_selectorHtml:'<input class="rl_li_selector" type="checkbox" />',_iconHtmlTpl:new rl.HtmlTpl('<img id="{id}" class="rl_li_icon" src="'+rl.gui.URL_BLANK_IMG+'" style="background-image:url({icon});"/>'),initialize:function(){rl.isNonNullStr(this.id)||(this.id=this.autoId()),this._domId=this.id+"_dom",this._iconId=this.id+"_icon",this._textCtnId=this.id+"_textCtn",this.dw=new rl.DomWrap,rl.gui.compStore.add(this.id,this)},render:function(t){if(this._rendered)return this;t=this.getRenderTarget(t);var i=rl.dom.insertHtml(this.renderPosition,this.getRenderHtml(),t);return this.dw.setTarget(i),this._rendered=!0,this.fireEvent("render"),this},focus:function(){this.dw.focus(),this.dw.addClass("rl_item_focused")},blur:function(){this.dw.blur(),this.dw.removeClass("rl_item_focused")},hide:function(){this.dw.hide()},show:function(){this.dw.show()},afterRenderByOwner:function(){this.dw.setTarget(this._domId),this._rendered=!0},getRenderHtml:function(){var t,i,e,s=this.icon;return t=this.hasSelector?this._selectorHtml:"",i=rl.isNonNullStr(s)?this._iconHtmlTpl.assign({id:this._iconId,icon:s}):"",e=this._htmlTpl.assign({selectorHtml:t,iconHtml:i,id:this._domId,textCtnId:this._textCtnId,text:this.text,tip:this.tip})},isSelectorEle:function(t){return this.dw.dom.firstChild==t},_getSelector:function(){return this.dw.dom.firstChild},_getTextCtn:function(){return rl.getDom(this._textCtnId)},_getIconCtn:function(){return rl.getDom(this._iconId)},afterSelectChange:function(){this.hasSelector&&this._updateSelectStateView()},_updateSelectStateView:function(t){var i=this._getSelector();i&&(t=void 0===t?this.selected:t,i.checked=t)},_getInteractiveStateCss:function(t){var i="rl_item_";return this.selected?i+="selected":"out"==t?i="":i+=t,i},toString:function(){return"[object rl.gui.list.ListItem]"}}}),rl.fill(rl.gui.list.ListItem.prototype,rl.gui.itf.iInteractive),rl.fill(rl.gui.list.ListItem.prototype,rl.gui.itf.iSelectable),rl.gui.ctype2Classes.add("ListItem",rl.gui.list.ListItem)});