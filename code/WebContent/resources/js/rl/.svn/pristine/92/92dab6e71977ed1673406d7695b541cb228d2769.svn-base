function MckSelector(t,e,i,o,l,n){this.valueField=t,this.textField=e,this.nullValue=i,this.nullText=o,this.valueSeparator=l,this.textSeparator=n,this.options=[]}function MckOption(t,e){this.value=t,this.text=e}function MckShowSelect(t){var e=document.getElementById("MckSelectTag_"+t),i=document.getElementById("MckIframeTag_"+t);"block"==e.style.display?(e.style.display="none",i.style.display="none"):(e.style.display="block",i.style.display="block")}function MckCheck(t,e){var i=document.getElementById("MckCb_"+t.valueField+"_"+e),o=document.getElementById(t.valueField),l=document.getElementById(t.textField),n=document.getElementById("MckTxt_"+t.valueField+"_"+e).innerHTML,r=document.getElementById("MckHd_"+t.valueField+"_"+e).value;i.checked?t.put(r,n):t.remove(r),l.value=t.getText(),o.value=t.getValue()}function inSelectFocus(t,e){for(;t;){if(t.id=="MckTextTag_"+e||t.id=="MckSelectTag_"+e)return!0;t=t.parentNode}return!1}orderjs.define("gui.form.MckSelector",["gui.form.Input","css>rl:inputs","gui.form.Option"],function(){}),rl.gui.form.MckSelector=rl.createClass({parent:rl.gui.form.Input,construct:function(t){if(!rl.isPrototyping(arguments[0])){var e=(t||{}).items;this.items=[],rl.isArray(e)&&(this.initItems(e),this.addItems(e));var i=this.items[this.selectedIndex];i&&(this.value=i.value),this._namedItemsStore={},rl.gui.form.MckSelector.parent.call(this,t)}},members:{toString:function(){return"[object rl.gui.form.MckSelector]"}}}),rl.fill(rl.gui.form.MckSelector.prototype,rl.gui.itf.iGrouping),rl.gui.ctype2Classes.add("MckSelector",rl.gui.form.MckSelector),MckSelector.prototype.put=function(t,e){this.options.push(new MckOption(t,e))},MckSelector.prototype.remove=function(t){for(var e=this.options.length-1;e>=0;e--)this.options[e].value==t&&this.options.splice(e,1)},MckSelector.prototype.getValue=function(){if(this.options.length<=0)return this.nullValue;for(var t="",e=0;e<this.options.length;e++)t+=this.options[e].value,e<this.options.length-1&&(t+=this.valueSeparator);return""==t&&(t=this.nullValue),t},MckSelector.prototype.getText=function(){if(this.options.length<=0)return this.nullText;for(var t="",e=0;e<this.options.length;e++)t+=this.options[e].text,e<this.options.length-1&&(t+=this.textSeparator);return""==t&&(t=this.nullText),t},MckSelector.prototype.initOptions=function(t,e){if(""!=t)for(var i=t.split(this.valueSeparator),o=e.split(this.textSeparator),l=0;l<i.length;l++)this.put(i[l],o[l])};var MckIds=[];document.onclick=function(t){for(var e=t||window.event,i=e.srcElement||e.target,o=0;o<MckIds.length;o++)inSelectFocus(i,MckIds[o])||(document.getElementById("MckSelectTag_"+MckIds[o]).style.display="none",document.getElementById("MckIframeTag_"+MckIds[o]).style.display="none")};