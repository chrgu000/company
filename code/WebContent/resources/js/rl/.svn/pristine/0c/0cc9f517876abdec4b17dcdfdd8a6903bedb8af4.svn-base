orderjs.define("gui.indicator.ToolTip",["gui.engine","css>rl:tips"],function(){rl.gui.indicator.ToolTip=rl.createClass({parent:rl.gui.ComponentBase,construct:function(t){rl.isPrototyping(arguments[0])||(rl.gui.indicator.ToolTip.parent.call(this,t),this.dw=new rl.dom.DomWrap,this.dw.useVisibilityShow=!0,this.initialize())},members:{content:"",isHtmlContent:!0,iniStyle:null,width:"auto",height:"auto",left:"inherit",top:"inherit",displayOffsetX:0,displayOffsetY:0,scopeCss:"",autoRenderOnReady:!1,iniVisible:!1,useShadow:!0,autoHideDelay:100,autoShowDelay:100,cancelAutoHideOnmouseover:!1,autoHideOnmouseout:!0,_htmlTpl:new rl.HtmlTpl('<table class="rl_comp rl_roundedrect rl_tooltip {scopeCss}" id={id} cellspacing="0" cellpadding="0" border="0"  style="width:{width}; height:{height}; visibility:{visibility};" ><tr><td class="nw">&nbsp;</td><td class="n">&nbsp;</td><td class="ne">&nbsp;</td></tr><tr><td class="w">&nbsp;</td><td class="c" id="{cwid}">{content}</td><td class="e">&nbsp;</td></tr><tr><td class="sw">&nbsp;</td><td class="s">&nbsp;</td><td class="se">&nbsp;</td></tr></table>'),initialize:function(){rl.isNonNullStr(this.id)||(this.id=this.autoId());var t=this.id;this.cwid=t+"_cw",rl.gui.compStore.add(this.id,this),this.autoRenderOnReady&&rl.onReady(Function.bind(this.render,this))},render:function(t){if(this._rendered)return this;t=this.getRenderTarget(t);var i,s=this.isHtmlContent,e=s?this.content:"",h=this.iniVisible?"":"hidden",n=rl.dom.addUnit;return i=this._htmlTpl.renderTo(t,{id:this.id,cwid:this.cwid,scopeCss:this.scopeCss,content:e,visibility:h,width:n(this.width),height:n(this.height)},this.renderPosition),this.dw.setTarget(i),this.dw.on("mouseover",this.hndMouseover,this),this.dw.on("mouseout",this.hndMouseout,this),this.iniStyle&&this.dw.setStyle(this.iniStyle),this.hidden=!this.iniVisible,this.isHtmlContent||(e=this.content,this.content=null,this.setContent(e,!1)),this._rendered=!0,this.fireEvent("render"),this.useShadow&&(this.initShadow(),this.iniVisible&&this.showShadow()),this},setContent:function(t,i){var s,e=this.dw.dom,h=rl.getDom(this.cwid);if(!rl.isElement(e)||!rl.isElement(h))return null;if(this.content==t&&this.isHtmlContent==i)return h.firstChild;if(this.isHtmlContent=i,this.content=t,i||(s=rl.getDom(this.content)),rl.isElement(s))h.innerHTML="",h.appendChild(s);else{h.innerHTML=t;{h.childNodes}s=h.firstChild}return this.refreshView(),s},updateAutoShowXY:function(t,i){this._displayX=t,this._displayY=i},updateAutoShowXYByEvent:function(t){rl.ew.init(t),this.updateAutoShowXY(rl.ew.clientX(),rl.ew.clientY())},alignTo:function(t,i,s){this.dw.alignTo(t,i,s),this.useShadow&&this.shadow&&this.shadow.alignTo(this.dw.getLeft(),this.dw.getTop())},beginAutoShow:function(){this._autoShowing||(this.hidden?this._autoShowTimer=Function.delay(this.startShow,this.autoShowDelay,this):this.startShow(),this.cancelAutoHide(),this._autoShowing=!0)},cancelAutoShow:function(){clearTimeout(this._autoShowTimer),this._autoShowTimer=null,this._autoShowing=!1},startShow:function(){this.cancelAutoHide(),this.cancelAutoShow(),this._displayX&&this._displayY&&(this.dw.offsetAt(this._displayX,this._displayY,this.displayOffsetX,this.displayOffsetY),this.useShadow&&!this.hidden&&this.shadow&&this.shadow.alignTo(this.dw.getLeft(),this.dw.getTop())),this.show()},beginAutoHide:function(){this._autoHiding||(this._autoHideTimer=Function.delay(this.startHide,this.autoHideDelay,this),this.cancelAutoShow(),this._autoHiding=!0)},cancelAutoHide:function(){clearTimeout(this._autoHideTimer),this._autoHideTimer=null,this._autoHiding=!1},startHide:function(){this.cancelAutoShow(),this.cancelAutoHide(),this.hide()},hndMouseover:function(){this.cancelAutoHideOnmouseover&&this.cancelAutoHide()},hndMouseout:function(){this.autoHideOnmouseout&&this.beginAutoHide()},show:function(){return this.hidden?(this.dw.show(),this.hidden=!1,this.useShadow&&this.showShadow(),this.fireEvent("show"),this):this},hide:function(){return this.hidden?this:(this.dw.hide(),this.hidden=!0,this.useShadow&&this.hideShadow(),this.fireEvent("hide"),this)},refreshView:function(){!this.hidden&&this.useShadow&&this.showShadow()},toString:function(){return"[object rl.gui.indicator.ToolTip]"}}}),rl.fill(rl.gui.indicator.ToolTip.prototype,rl.gui.itf.iShadow),rl.gui.ctype2Classes.add("ToolTip",rl.gui.indicator.ToolTip)});