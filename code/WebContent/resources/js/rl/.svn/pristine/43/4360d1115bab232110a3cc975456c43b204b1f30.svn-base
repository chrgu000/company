orderjs.define("lib.fx.AnimationBase",function(){rl.ext(rl.fx,{animPatterns:{noNegatives:/width|height|opacity|padding/i,offsetAttribute:/^((width|height)|(top|left))$/,defaultUnit:/width|height|top$|bottom$|left$|right$/i,offsetUnit:/\d+(em|%|en|ex|pt|in|cm|mm|pc)$/i},defaultAnimDelay:10}),rl.fx.AnimationBase=rl.createClass({parent:rl.util.EventProvider,construct:function(t){rl.isPrototyping(arguments[0])||(rl.fx.AnimationBase.parent.call(this,t),rl.ext(this,t))},members:{attributes:null,duration:1,useSeconds:!0,easingType:"Quad",easingDetais:"easeIn",easingFunction:null,onStop:null,onStart:null,getAttribute:rl.EMPTY_FUNCTION,applyAttributes:rl.EMPTY_FUNCTION,_getRuntimeEasingFn:function(){var t,e,n,i,s=this._runtimeOptions,r=s.easingFunction||this.easingFunction;return rl.isFunction(r)||(i=rl.fx.Easing,e=s.easingType||this.easingType,n=i[e],r=n,rl.isFunction(r)||(rl.isObject(n)&&(t=s.easingDetais||this.easingDetais,r=n[t]),rl.isFunction(r)||(r=i.Linear))),r},getDefaultUnit:function(t){return rl.fx.animPatterns.defaultUnit.test(t)?"px":""},start:function(t){if(this.paused)return this.resume();if(this.animated)return!1;if(this.fireEvent("beforestart")===!1)return!1;var e,n,i;rl.isObject(t)||(t={}),this._runtimeOptions=t,this._runtimeAttributes={},this._runtimeEasingFn=this._getRuntimeEasingFn();for(var s in this.attributes)this._initRuntimeAttribute(s);return e=t.duration||this.duration,n=t.onStart||this.onStart,i=this._totalFrames=rl.fx.defaultAnimDelay,this._totalFrames=this.useSeconds?1e3*e:e,this.startTime=this._startFrame=new Date,this.pauseTotalTime=0,this._tween(),this._aniTimer=Function.interval(this._tween,i,this),this.animated=!0,rl.isFunction(n)&&n.call(this),this.fireEvent("start"),!0},stop:function(t){t&&(this._currentFrame=this._totalFrames,this._applyRuntimeAttributes());var e=this._runtimeOptions,n=e.onStop||this.onStop;clearInterval(this._aniTimer),this._aniTimer=null,this.animated=!1,this.paused=!1,this.endTime=new Date,rl.isFunction(n)&&n.call(this),this.fireEvent("stop")},pause:function(){this.animated&&!this.paused&&(clearInterval(this._aniTimer),this._aniTimer=null,this.paused=!0,this._pauseTime=new Date,rl.isFunction(this.onPause)&&this.onPause(),this.fireEvent("pause"))},resume:function(){return this.animated&&this.paused?(this._resumeTime=new Date,this.pauseTotalTime+=this._resumeTime-this._pauseTime,this.paused=!1,this._tween(),this._aniTimer=Function.interval(this._tween,rl.fx.defaultAnimDelay,this),rl.isFunction(this.onResume)&&this.onResume(),this.fireEvent("resume"),!0):!1},_tween:function(){return this.currentTime=new Date,this._currentFrame=this.currentTime-this.pauseTotalTime-this._startFrame,this._totalFrames<=this._currentFrame?this.stop(!0):(this._applyRuntimeAttributes(),void this.fireEvent("tween"))},_applyRuntimeAttributes:function(){this.applyAttributes(this._calcRuntimeAttributes())},_calcRuntimeAttributes:function(){var t,e=this._runtimeAttributes,n={};for(var i in e)t=this._getEasingValue(i,e[i].start,e[i].end),rl.fx.animPatterns.noNegatives.test(i)&&(t=t>0?t:0),t+=e[i].unit,n[i]=t;return n},_initRuntimeAttribute:function(t){var e,n,i=this.attributes;this._runtimeAttributes[t]={};var s=function(t){return"undefined"!=typeof t};if(!s(i[t].to)&&!s(i[t].by))return!1;if(e=s(i[t].from)?i[t].from:this.getAttribute(t),s(i[t].to))n=i[t].to;else if(s(i[t].by))if(e.constructor==Array){n=[];for(var r=0,a=e.length;a>r;++r)n[r]=e[r]+i[t].by[r]}else n=e+i[t].by;this._runtimeAttributes[t].start=e,this._runtimeAttributes[t].end=n,this._runtimeAttributes[t].unit=s(i[t].unit)?i[t].unit:this.getDefaultUnit(t)},_getEasingValue:function(t,e,n){return this._runtimeEasingFn(this._currentFrame,e,n-e,this._totalFrames)},onDispose:function(){delete this.attributes},dispose:function(){return this._disposed?this:(rl.isFunction(this.onDispose)&&this.onDispose(),this._disposed=!0,this)},toString:function(){return"[object rl.fx.AnimationBase]"}}}),rl.fx.Easing={Linear:function(t,e,n,i){return n*t/i+e},Quad:{easeIn:function(t,e,n,i){return n*(t/=i)*t+e},easeOut:function(t,e,n,i){return-n*(t/=i)*(t-2)+e},easeInOut:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e}},Cubic:{easeIn:function(t,e,n,i){return n*(t/=i)*t*t+e},easeOut:function(t,e,n,i){return n*((t=t/i-1)*t*t+1)+e},easeInOut:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e}},Quart:{easeIn:function(t,e,n,i){return n*(t/=i)*t*t*t+e},easeOut:function(t,e,n,i){return-n*((t=t/i-1)*t*t*t-1)+e},easeInOut:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e}},Quint:{easeIn:function(t,e,n,i){return n*(t/=i)*t*t*t*t+e},easeOut:function(t,e,n,i){return n*((t=t/i-1)*t*t*t*t+1)+e},easeInOut:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e}},Sine:{easeIn:function(t,e,n,i){return-n*Math.cos(t/i*(Math.PI/2))+n+e},easeOut:function(t,e,n,i){return n*Math.sin(t/i*(Math.PI/2))+e},easeInOut:function(t,e,n,i){return-n/2*(Math.cos(Math.PI*t/i)-1)+e}},Expo:{easeIn:function(t,e,n,i){return 0==t?e:n*Math.pow(2,10*(t/i-1))+e},easeOut:function(t,e,n,i){return t==i?e+n:n*(-Math.pow(2,-10*t/i)+1)+e},easeInOut:function(t,e,n,i){return 0==t?e:t==i?e+n:(t/=i/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(-Math.pow(2,-10*--t)+2)+e}},Circ:{easeIn:function(t,e,n,i){return-n*(Math.sqrt(1-(t/=i)*t)-1)+e},easeOut:function(t,e,n,i){return n*Math.sqrt(1-(t=t/i-1)*t)+e},easeInOut:function(t,e,n,i){return(t/=i/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e}},Elastic:{easeIn:function(t,e,n,i,s,r){if(0==t)return e;if(1==(t/=i))return e+n;if(r||(r=.3*i),!s||s<Math.abs(n)){s=n;var a=r/4}else var a=r/(2*Math.PI)*Math.asin(n/s);return-(s*Math.pow(2,10*(t-=1))*Math.sin(2*(t*i-a)*Math.PI/r))+e},easeOut:function(t,e,n,i,s,r){if(0==t)return e;if(1==(t/=i))return e+n;if(r||(r=.3*i),!s||s<Math.abs(n)){s=n;var a=r/4}else var a=r/(2*Math.PI)*Math.asin(n/s);return s*Math.pow(2,-10*t)*Math.sin(2*(t*i-a)*Math.PI/r)+n+e},easeInOut:function(t,e,n,i,s,r){if(0==t)return e;if(2==(t/=i/2))return e+n;if(r||(r=.3*i*1.5),!s||s<Math.abs(n)){s=n;var a=r/4}else var a=r/(2*Math.PI)*Math.asin(n/s);return 1>t?-.5*s*Math.pow(2,10*(t-=1))*Math.sin(2*(t*i-a)*Math.PI/r)+e:s*Math.pow(2,-10*(t-=1))*Math.sin(2*(t*i-a)*Math.PI/r)*.5+n+e}},Back:{easeIn:function(t,e,n,i,s){return void 0==s&&(s=1.70158),n*(t/=i)*t*((s+1)*t-s)+e},easeOut:function(t,e,n,i,s){return void 0==s&&(s=1.70158),n*((t=t/i-1)*t*((s+1)*t+s)+1)+e},easeInOut:function(t,e,n,i,s){return void 0==s&&(s=1.70158),(t/=i/2)<1?n/2*t*t*(((s*=1.525)+1)*t-s)+e:n/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+e}},Bounce:{easeIn:function(t,e,n,i){return n-rl.fx.Easing.Bounce.easeOut(i-t,0,n,i)+e},easeOut:function(t,e,n,i){return(t/=i)<1/2.75?7.5625*n*t*t+e:2/2.75>t?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:2.5/2.75>t?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOut:function(t,e,n,i){return i/2>t?.5*rl.fx.Easing.Bounce.easeIn(2*t,0,n,i)+e:.5*rl.fx.Easing.Bounce.easeOut(2*t-i,0,n,i)+.5*n+e}}}});