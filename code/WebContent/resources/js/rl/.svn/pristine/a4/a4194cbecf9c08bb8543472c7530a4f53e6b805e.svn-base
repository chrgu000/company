orderjs.define("gui.menu.PopupMenu",["gui.engine","gui.menu.Menu","css>rl:menu"],function(){!function(){rl.gui.menu.PopupMenuItem=rl.createClass({parent:rl.gui.menu.MenuItem,construct:function(i,u,e){rl.isPrototyping(arguments[0])||(rl.isObject(i)&&!rl.isNonNullStr(i.icon)&&(i.icon=rl.gui.URL_BLANK_IMG),rl.gui.menu.PopupMenuItem.parent.call(this,i,u,e))},members:{icon:rl.gui.URL_BLANK_IMG,width:"100%",_btnCss:"popup",toString:function(){return"[object rl.gui.menu.PopupMenuItem]"}}}),rl.gui.ctype2Classes.add("PopupMenuItem",rl.gui.menu.PopupMenuItem)}(),rl.gui.menu.PopupMenu=rl.createClass({parent:rl.gui.menu.Menu,construct:function(i){rl.isPrototyping(arguments[0])||rl.gui.menu.PopupMenu.parent.call(this,i)},members:{TYPE:"PopupMenu",width:180,_menuCss:"rl_popupmenu",iniVisible:!1,useShadow:!0,itemType:rl.gui.menu.PopupMenuItem,onInitialize:function(){this.on("render",this.hndRender,this)},hndRender:function(){this.useShadow&&(this.initShadow(),this.iniVisible&&this.showShadow())},show:function(){this.dw.setVisibility(!0),this.useShadow&&this.showShadow(),rl.gui.popupMgr.regShowingPopup(this)},showAt:function(i,u,e){this.dw.setXY(i,u,e),this.show()},showAtEvent:function(i,u,e,n){u=parseInt(u),e=parseInt(e),isNaN(u)&&(u=0),isNaN(e)&&(e=0),rl.ew.init(i);var t=rl.ew.clientX()+u,o=rl.ew.clientY()+e;n!==!1&&(n=!0),this.showAt(t,o,n)},hide:function(){this._showingSubPopup&&(this._showingSubPopup.hide(),this.afterSubPopupHide());var i=this.parentMenu;i&&rl.isFunction(i.afterSubPopupHide)&&i.afterSubPopupHide(),this.dw.setVisibility(!1),this.useShadow&&this.hideShadow(),rl.gui.popupMgr.unRegShowingPopup(this)},afterAllSubPopupHide:function(){var i=this.parentMenu;i&&rl.isFunction(i.afterSubPopupHide)&&i.afterSubPopupHide()},doAction:function(){rl.gui.popupMgr.hideAllPopup()},canHide:function(i){return!this.dw.within(i)},toString:function(){return"[object rl.gui.menu.PopupMenu]"}}}),rl.fill(rl.gui.menu.PopupMenu.prototype,rl.gui.itf.iShadow),rl.gui.ctype2Classes.add("PopupMenu",rl.gui.menu.PopupMenu)});