orderjs.define("x:mti.muiView",["lib.dom.engine","lib.dom.DomWrap","gui.Iframe","gui.menu.ToolBar","gui.tab.TabPanel","css>x:mti.css.mui"],function(){rl.createNamespace("rlx.mti"),rlx.mti.muiView=rl.ext(new rl.gui.ComponentBase,{autoRenderOnReady:!0,minWidth:1e3,minHeight:400,logoCtrl:null,userCtrlBar:null,quickAccessBar:null,sysMenu:null,tabPanel:null,_htmlTpl:new rl.HtmlTpl('<div id="{id}" class="rlx_mti_mui"><div id="{bannerId}" class="banner"><div class="bg_left"><div class="bg_right"><div class="main"><div class="user_ctrl_bar_area"><div class="left"></div><div id="{userCtrlBarCtnId}" class="center"></div></div><div id="{sysMenuCtnId}" class="sys_menu_ctn"></div><img id="{logoCtrlId}" class="logo {logoCss}" title="{logoTitle}" src="'+rl.gui.URL_BLANK_IMG+'" /><table class="quick_access_area" border="0" cellspacing="0" cellpadding="0"><tr><td class="qabar_left">&nbsp;</td><td class="qabar_center" id="{quickAccessBarCtnId}"></td><td class="qabar_right">&nbsp;</td></tr></table></div></div></div></div><div id="{tabPanelCtnId}" class="tabpanel_ctn"></div></div>'),initialize:function(t){this._config=t||{},this.dw=new rl.dom.DomWrap,rl.isNonNullStr(this.id)||(this.id=this.autoId());var e=this.id;this.bannerId=e+"_banner",this.logoCtrlId=e+"_logoCtrl",this.userCtrlBarCtnId=e+"_userCtrlBarCtn",this.sysMenuCtnId=e+"_sysMenuCtn",this.quickAccessBarCtnId=e+"_quickAccessBarCtn",this.tabPanelCtnId=e+"_tabPanelCtn",this.autoRenderOnReady&&rl.onReady(Function.bind(this.render,this))},render:function(t){if(this._rendered)return this;t=this.getRenderTarget(t);var e;return e=this._htmlTpl.renderTo(t,{id:this.id,logoCtrlId:this.logoCtrlId,userCtrlBarCtnId:this.userCtrlBarCtnId,sysMenuCtnId:this.sysMenuCtnId,quickAccessBarCtnId:this.quickAccessBarCtnId,tabPanelCtnId:this.tabPanelCtnId,bannerId:this.bannerId},this.renderPosition),this.dw.setTarget(e),this.initView(),this._rendered=!0,this.fireEvent("render"),this},initView:function(){rl.IE?rl.$(document.documentElement).addClass("rlx_mti_full_view"):rl.$(document.body).addClass("rlx_mti_full_view"),this.dw.on("contextmenu",rl.gui.autoStopContextmenu),this.initTabPanel(),this.initUserCtrlBar(),this.initQuickAccessBar(),this.initSysMenu(),this.initLogoCtrl(),this.updateCompsView(),rl.dom.viewport.on("resize",this.updateCompsView,this)},updateCompsView:function(){var t=rl.getDom(this.bannerId),e=rl.dom.viewport,i=e.getWidth(),r=e.getHeight(),s=this.tabPanel;if(rl.debug(this+" topBarEle = "+t),t){rl.debug("w = "+i+" h = "+r+" topBarEle.offsetHeight = "+t.offsetHeight);var n=this.cfg("minWidth")||this.minWidth,a=this.cfg("minHeight")||this.minHeight;n>i&&(i=n),a>r&&(r=a),this.dw.setHeight(r).setWidth(i),s&&s.setHeight(r-t.offsetHeight).setWidth(i),rl.debug(this+" w = "+i+" h = "+r);{document.documentElement}rl.$(document.body).setHeight(r).setWidth(i),rl.$(document.documentElement).setHeight(r).setWidth(i)}},initLogoCtrl:function(){return rl.isObject(this.cfg("l"))?(this.logoCtrl||(this.logoCtrl=this.createLogoCtrl()),!0):!1},createLogoCtrl:function(){var t=this.cfg("l"),e=new rl.DomWrap(this.logoCtrlId),i=e.dom;return rl.isNonNullStr(t.tip)&&(i.title=t.tip),rl.isNonNullStr(t.src)&&(i.src=t.src),rl.isDefined(t.iniStyle)&&e.setStyle(t.iniStyle),e},initUserCtrlBar:function(){return rl.isObject(this.cfg("u"))?(this.userCtrlBar||(this.userCtrlBar=this.createUserCtrlBar()),!0):!1},createUserCtrlBar:function(){var t=this.cfg("u"),e=t.items||[];return new rl.gui.menu.ToolBar({renderTarget:this.userCtrlBarCtnId,action:t.action,autoRenderOnReady:!0,items:e})},initQuickAccessBar:function(){return rl.isObject(this.cfg("q"))?(this.quickAccessBar||(this.quickAccessBar=this.createQuickAccessBar()),!0):!1},createQuickAccessBar:function(){var t=this.cfg("q"),e=t.items||[];return new rl.gui.menu.ToolBar({renderTarget:this.quickAccessBarCtnId,action:t.action,autoRenderOnReady:!0,items:e})},initSysMenu:function(){return rl.isObject(this.cfg("m"))?(this.sysMenu||(this.sysMenu=this.createSysMenu()),!0):!1},createSysMenu:function(){var t=this.cfg("m"),e=t.items||[];return new rl.gui.menu.ToolBar({renderTarget:this.sysMenuCtnId,autoRenderOnReady:!0,action:t.action,items:e})},initTabPanel:function(){return rl.isObject(this.cfg("t"))?(this.tabPanel||(this.tabPanel=this.createTabPanel()),!0):!1},createTabPanel:function(){{var t=this.cfg("t");t.items||[]}return new rl.gui.tab.TabPanel(rl.ext({renderTarget:this.tabPanelCtnId,autoRenderOnReady:!0,headBarType:rl.gui.tab.BTabBar,headBarCfg:{fScrollerStart:20,bScrollerStart:20}},t))},cfg:function(t,e){var i=this._config;if(i)return arguments.length>1?void(i[t]=e):i[t]}}),rlx.mti.muiView.toString=function(){return"[object rlx.mti.muiView]"}});