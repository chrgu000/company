orderjs.define("lib.dom.xdw_rpc",["lib.data.engine","lib.rpc.engine","lib.dom.DomWrap"],function(){var e=new rl.data.MixedMap;rl.ext(rl.dom.DomWrap.prototype,{load:function(r,n){if(!rl.isNonNullStr(r))return null;var t,o=this.dom,l=rl.ext({},rl.dom.DomWrap.loadOptions);return rl.ext(l,n),e.hasKey(o)?(t=e.get(o),t.abort()):(t=new rl.rpc.XHRequest(rl.fill({url:r,successHandler:function(r){var n=r;String.isHtml(r)&&(n=l.htmlRspReader(r)||l.msgReadErr),rl.isFunction(l.contentRenderer)&&(n=l.contentRenderer(n)),e.removeAt(o),rl.$(o).setInnerHTML(n,l.onContentLoad)},failureHandler:function(){var r=l.msgRequestErr;rl.isFunction(l.contentRenderer)&&(r=l.contentRenderer(r)),e.removeAt(o),rl.$(o).setInnerHTML(r,l.onContentLoadErr)}},l)),e.add(o,t)),this.setInnerHTML(l.msgLoading),t.request(),this},getLoadXhr:function(){return e.get(this.dom)}}),rl.ext(rl.dom.DomWrap,{loadOptions:{responseType:"text",async:!0,msgLoading:"加载中...",msgReadErr:"加载失败：服务器处理该项数据出错!",msgRequestErr:"加载失败: 无法访问该项数据!",htmlRspReader:null,onContentLoad:null,onContentLoadErr:null}})});